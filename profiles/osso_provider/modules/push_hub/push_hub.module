<?php

/**
 * @file
 *
 * @todo Support notifications from publishers over HTTP.
 */

/**
 * Implementation of hook_menu().
 */
function push_hub_menu() {
  $items = array();
  $items['pubsubhubbub/endpoint'] = array(
   'page callback' => 'push_hub_endpoint',
   'page arguments' => array(3, 4),
   'access callback' => 'user_access',
   'access arguments' => array('access content'), // @todo Specific permission
   'file' => 'push_hub.pages.inc',
   'type' => MENU_CALLBACK,
  );
  return $items;
}

/**
 * Notify subscribers of a change in topic.
 *
 * @param $topic
 *   URL of the topic that changed.
 * @param $changed
 *   The feed that contains the changed elements.
 */
function push_hub_notify($topic, $changed) {

}

/**
 * Save a notification subscription.
 *
 * @param $suscriber
 *   A callback URL of a subscriber.
 * @param $topic
 *   The topic of which changes a subscriber would like to notified of.
 */
function push_hub_save_subscription($subscriber, $topic) {

}

/**
 * Delete subscription.
 * @param $suscriber
 *   A callback URL of a subscriber.
 * @param $topic
 *   The topic of which changes a subscriber would like to notified of.
 */
function push_hub_delete_subscription($subscriber, $topic) {

}